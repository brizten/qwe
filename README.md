# QWE ‚Äî –º–∏–Ω–∏-—Å–µ—Ä–≤–∏—Å –¥–ª—è —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∏ –ø–∞—Ä–æ–ª–µ–π –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

–í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ **Flask** –¥–ª—è:

- üîë –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ (–ø–∞—Ä–æ–ª—å —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ **PostgreSQL**);
- üîì —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∏ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–∞—Ä–æ–ª–µ–π —Å –ø–æ–º–æ—â—å—é Fernet-–∫–ª—é—á–∞ –∏–∑ —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ **keyring**;
- üìã –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞;
- ‚è≥ –∑–∞–ø–∏—Å–∏ ¬´–≤—Ä–µ–º–µ–Ω–∏ –∂–∏–∑–Ω–∏¬ª –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ **Redis** —Å –∞–≤—Ç–æ-–æ—á–∏—Å—Ç–∫–æ–π –∫–ª—é—á–∞.

---

## üìê –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

- **Flask + Flask-Session** ‚Äî –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, Cookie-—Å–µ—Å—Å–∏–∏, –º–∞—Ä—à—Ä—É—Ç—ã `/` –∏ `/decode`.
- **SQLAlchemy + PostgreSQL** ‚Äî –º–æ–¥–µ–ª–∏ `admin_password` –∏ `logs`, –∞–≤—Ç–æ-—Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü –∏ PL/pgSQL —Ñ—É–Ω–∫—Ü–∏–π/—Ç—Ä–∏–≥–≥–µ—Ä–∞ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø–æ DSN (–∑–∞—à–∏—Ç–æ –ª–æ–∫–∞–ª—å–Ω–æ).
- **cryptography.Fernet + keyring** ‚Äî –¥–µ—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ —Å–µ–∫—Ä–µ—Ç–æ–≤ Fernet-–∫–ª—é—á–æ–º, –∏–∑–≤–ª–µ–∫–∞–µ–º—ã–º –∏–∑ —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –ø–∞—Ä–æ–ª–µ–π (`service='vault_key', username='key'`).
- **pyperclip** ‚Äî –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–∞—Ä–æ–ª—è –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞.
- **Redis** ‚Äî —Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –º–∞—Ä–∫–µ—Ä–∞ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ TTL –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –ø–æ—Ç–æ–∫–µ.
- **Jinja2** ‚Äî —à–∞–±–ª–æ–Ω—ã: `templates/login.html`, `templates/decode.html`; —Å—Ç–∏–ª–∏ ‚Äî `static/style/style.css`.

> ‚ö†Ô∏è –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: —Ñ—É–Ω–∫—Ü–∏–∏ `db_pass` –∏ `write_logs` –≤ `db_func.py` –ø–æ–∫–∞ –∑–∞–≥–ª—É—à–∫–∏ ‚Äî –∏—Ö –Ω—É–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ–¥ –≤–∞—à—É —Å—Ö–µ–º—É –ë–î.

---

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python **3.10+**
- PostgreSQL **13+**
- Redis **6+**
- –°–∏—Å—Ç–µ–º–Ω—ã–π **keyring** (Windows Credential Manager / macOS Keychain / Secret Service –Ω–∞ Linux)

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python

```text
Flask
Flask-Session
SQLAlchemy
psycopg2-binary
cryptography
pyperclip
keyring
redis
üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫ (–ª–æ–∫–∞–ª—å–Ω–æ)
–ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

bash
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
git clone https://github.com/brizten/qwe.git
cd qwe
python -m venv .venv && source .venv/bin/activate  # Windows: .venv\Scripts\activate
pip install -r requirements.txt
–ù–∞—Å—Ç—Ä–æ–∏—Ç—å PostgreSQL

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∫–æ–¥ –∂–¥—ë—Ç –ë–î pwd_m –∏ –ª–æ–∫–∞–ª—å–Ω—ã–π –¥–æ—Å—Ç—É–ø.

–°—Ç—Ä–æ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∑–∞—à–∏—Ç–∞ –≤ db_modulev2.py:

bash
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
postgresql+psycopg2://postgres:11355@127.0.0.1/pwd_m
–ó–∞–º–µ–Ω–∏—Ç–µ –ø–æ–¥ —Å–µ–±—è –∏–ª–∏ –≤—ã–Ω–µ—Å–∏—Ç–µ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è.

–ó–∞–ø—É—Å—Ç–∏—Ç—å Redis

–õ–æ–∫–∞–ª—å–Ω–æ –Ω–∞ localhost:6379.

–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ TTL —Å—Ç–∞—Ä—Ç—É–µ—Ç –≤ —Ñ–æ–Ω–µ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

–°–æ—Ö—Ä–∞–Ω–∏—Ç—å Fernet-–∫–ª—é—á –≤ —Å–∏—Å—Ç–µ–º–Ω—ã–π keyring

bash
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
python - <<'PY'
from cryptography.fernet import Fernet
import keyring
key = Fernet.generate_key().decode()
keyring.set_password('vault_key', 'key', key)
print('Fernet key saved in keyring.')
PY
–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã

–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ SQLAlchemy —Å–æ–∑–¥–∞—Å—Ç —Ç–∞–±–ª–∏—Ü—ã admin_password –∏ logs, –∞ —Ç–∞–∫–∂–µ PL/pgSQL —Ñ—É–Ω–∫—Ü–∏–∏ –∏ —Ç—Ä–∏–≥–≥–µ—Ä.

–î–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å —Å –∞–¥–º–∏–Ω-–ø–∞—Ä–æ–ª–µ–º

–í —Ç–∞–±–ª–∏—Ü–µ admin_password –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø–æ–ª–µ password (–ø–∞—Ä–æ–ª—å –¥–ª—è –≤—Ö–æ–¥–∞ –Ω–∞ /).

–ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

bash
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
python app.py
# –∏–ª–∏:
# export FLASK_APP=app.py && flask run
üõ† –ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è
–ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ / ‚Äî –≤–≤–µ–¥–∏—Ç–µ –∞–¥–º–∏–Ω-–ø–∞—Ä–æ–ª—å (–∏–∑ admin_password).

–ü–æ—Å–ª–µ –≤—Ö–æ–¥–∞ ‚Äî –æ—Ç–∫—Ä–æ–µ—Ç—Å—è /decode.

–í–≤–µ–¥–∏—Ç–µ db_name –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ —Ñ–æ—Ä–º—É:

—Å–µ—Ä–≤–∏—Å –Ω–∞–π–¥—ë—Ç –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–∞—Ä–æ–ª—å (—Ñ—É–Ω–∫—Ü–∏—è db_pass),

—Ä–∞—Å—à–∏—Ñ—Ä—É–µ—Ç –µ–≥–æ –∫–ª—é—á–æ–º –∏–∑ keyring,

—Å–∫–æ–ø–∏—Ä—É–µ—Ç –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞,

—Å–æ–∑–¥–∞—Å—Ç –≤ Redis –∫–ª—é—á —Å TTL (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 50 —Å–µ–∫.).

–ü—Ä–∏ –æ—à–∏–±–∫–µ (–ø—É—Å—Ç–æ–π db_name, ¬´Database not found¬ª, ¬´Decryption error¬ª) –ø–æ—è–≤–∏—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ.

üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
SECRET_KEY ‚Äî –≤—ã–Ω–µ—Å—Ç–∏ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (—Å–µ–π—á–∞—Å 'your_secret_key' –≤ app.py).

DATABASE_URL ‚Äî –Ω–µ —Ö—Ä–∞–Ω–∏—Ç—å –≤ –∫–æ–¥–µ, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ENV.

Fernet-–∫–ª—é—á ‚Äî —Ö—Ä–∞–Ω–∏—Ç—å —Ç–æ–ª—å–∫–æ –≤ keyring, –Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—å.

Redis TTL ‚Äî –ø–æ–¥–æ–±—Ä–∞—Ç—å –ø–æ–¥ –ø–æ–ª–∏—Ç–∏–∫—É, –∫–ª—é—á–∏ —É–¥–∞–ª—è—é—Ç—Å—è –ø—Ä–∏ –º–∞–ª–æ–º –æ—Å—Ç–∞—Ç–æ—á–Ω–æ–º TTL.

üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
bash
–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
qwe/
‚îú‚îÄ app.py                 # Flask-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, —Ä–æ—É—Ç—ã, —Å–µ—Å—Å–∏–∏, –¥–µ—à–∏—Ñ—Ä–æ–≤–∫–∞, Redis-–º–æ–Ω–∏—Ç–æ—Ä
‚îú‚îÄ db_modulev2.py         # SQLAlchemy engine, –º–æ–¥–µ–ª–∏, DDL
‚îú‚îÄ db_func.py             # —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î (–∑–∞–≥–ª—É—à–∫–∏)
‚îú‚îÄ redis_module.py        # –æ–±—ë—Ä—Ç–∫–∏ –Ω–∞–¥ Redis + TTL-–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
‚îú‚îÄ templates/
‚îÇ  ‚îú‚îÄ login.html
‚îÇ  ‚îî‚îÄ decode.html
‚îî‚îÄ static/
   ‚îî‚îÄ style/style.css
üìå TODO / –î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞
–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å db_pass(db_name) ‚Äî –ø–æ–∏—Å–∫ –∏ –≤–æ–∑–≤—Ä–∞—Ç –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–∞—Ä–æ–ª—è.

–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å write_logs(db_name) ‚Äî –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–æ–∫ –≤ logs.

–í—ã–Ω–µ—Å—Ç–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –≤ .env.

–î–æ–±–∞–≤–∏—Ç—å CSRF-–∑–∞—â–∏—Ç—É (Flask-WTF), rate-limit, –∞—É–¥–∏—Ç.

–£–ª—É—á—à–∏—Ç—å —à–∞–±–ª–æ–Ω—ã –∏ UX.

–ù–∞–ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã.

